#!/bin/sh
tools_wrapper_sed=/bin/sed
shquote()
{
	shquoted=$1
	case $shquoted in
	*\'*)
		shquoted=`$tools_wrapper_sed -e "s,','\\\\\\\\'',g" <<EOF
$shquoted
EOF`
	esac
	case $shquoted in
	(*[!!%+,\-./0-9:=@A-Z_a-z]*|'')
		case $shquoted in
		(*=*)	lhs=${shquoted%%=*}
			case $lhs in
			(*[!!%+,\-./0-9:=@A-Z_a-z]*|'') ;;
			(*)	shquoted="$lhs='${shquoted#*=}'"
				return
			esac
		esac
		shquoted="'$shquoted'"
	esac
}
shquote_args() {
	shquoted_args=''
	for arg in "$@"; do
		shquote "$arg"
		shquoted_args="$shquoted_args $shquoted"
	done
}
wrapperlog="${TOOLS_WRAPPER_LOG-/usr/pkgsrc/category/samurai/work/.work.log}"
shquote_args "$@"
echo "[*] "/usr/pkgsrc/category/samurai/work/.tools/bin/pkg-config"$shquoted_args" >> $wrapperlog
logprefix="set args$shquoted_args; shift; "
logmain=PKG_CONFIG_LIBDIR=/usr/pkgsrc/category/samurai/work/.buildlink/lib64/pkgconfig:/usr/pkgsrc/category/samurai/work/.buildlink/lib/pkgconfig:/usr/pkgsrc/category/samurai/work/.buildlink/share/pkgconfig\ /usr/pkg/bin/pkg-config\ \ \"\$@\"
echo '<.>' "$logprefix$logmain" >> $wrapperlog
PKG_CONFIG_LIBDIR=/usr/pkgsrc/category/samurai/work/.buildlink/lib64/pkgconfig:/usr/pkgsrc/category/samurai/work/.buildlink/lib/pkgconfig:/usr/pkgsrc/category/samurai/work/.buildlink/share/pkgconfig /usr/pkg/bin/pkg-config  "$@"

//
// Copyright 2020 FoxyUtils ehf. All rights reserved.
//
// This is a commercial product and requires a license to operate.
// A trial license can be obtained at https://unidoc.io
//
// DO NOT EDIT: generated by unitwist Go source code obfuscator.
//
// Use of this source code is governed by the UniDoc End User License Agreement
// terms that can be accessed at https://unidoc.io/eula/

// Package fdf provides support for loading form field data from Form Field Data (FDF) files.
package fdf ;import (_gg "bufio";_c "bytes";_a "encoding/hex";_g "errors";_ed "fmt";_ddb "github.com/unidoc/unipdf/v3/common";_bf "github.com/unidoc/unipdf/v3/core";_cg "io";_bd "os";_dd "regexp";_b "sort";_e "strconv";_ge "strings";);func (_cdb *fdfParser )parse ()error {_cdb ._bg .Seek (0,_cg .SeekStart );_cdb ._gee =_gg .NewReader (_cdb ._bg );for {_cdb .skipComments ();_cad ,_eba :=_cdb ._gee .Peek (20);if _eba !=nil {_ddb .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0046\u0061\u0069\u006c\u0020\u0074\u006f\u0020r\u0065a\u0064\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a");return _eba ;};if _ge .HasPrefix (string (_cad ),"\u0074r\u0061\u0069\u006c\u0065\u0072"){_cdb ._gee .Discard (7);_cdb .skipSpaces ();_cdb .skipComments ();_gcd ,_ :=_cdb .parseDict ();_cdb ._dba =_gcd ;break ;};_fac :=_eca .FindStringSubmatchIndex (string (_cad ));if len (_fac )< 6{_ddb .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020U\u006e\u0061\u0062l\u0065\u0020\u0074\u006f \u0066\u0069\u006e\u0064\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u0073\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065\u0020\u0028\u0025\u0073\u0029",string (_cad ));return _g .New ("\u0075\u006e\u0061b\u006c\u0065\u0020\u0074\u006f\u0020\u0064\u0065\u0074\u0065\u0063\u0074\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020s\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065");};_acfb ,_eba :=_cdb .parseIndirectObject ();if _eba !=nil {return _eba ;};switch _fbc :=_acfb .(type ){case *_bf .PdfIndirectObject :_cdb ._fd [_fbc .ObjectNumber ]=_fbc ;case *_bf .PdfObjectStream :_cdb ._fd [_fbc .ObjectNumber ]=_fbc ;default:return _g .New ("\u0074\u0079\u0070\u0065\u0020\u0065\u0072\u0072\u006f\u0072");};};return nil ;};

// Data represents forms data format (FDF) file data.
type Data struct{_ac *_bf .PdfObjectDictionary ;_db *_bf .PdfObjectArray ;};var _eca =_dd .MustCompile ("\u0028\u005c\u0064\u002b)\\\u0073\u002b\u0028\u005c\u0064\u002b\u0029\u005c\u0073\u002b\u006f\u0062\u006a");

// LoadFromPath loads FDF form data from file path `fdfPath`.
func LoadFromPath (fdfPath string )(*Data ,error ){_cc ,_cf :=_bd .Open (fdfPath );if _cf !=nil {return nil ,_cf ;};defer _cc .Close ();return Load (_cc );};func (_ee *fdfParser )readAtLeast (_ca []byte ,_abe int )(int ,error ){_bdc :=_abe ;_bc :=0;_cff :=0;for _bdc > 0{_ad ,_ae :=_ee ._gee .Read (_ca [_bc :]);if _ae !=nil {_ddb .Log .Debug ("\u0045\u0052\u0052O\u0052\u0020\u0046\u0061i\u006c\u0065\u0064\u0020\u0072\u0065\u0061d\u0069\u006e\u0067\u0020\u0028\u0025\u0064\u003b\u0025\u0064\u0029\u0020\u0025\u0073",_ad ,_cff ,_ae .Error ());return _bc ,_g .New ("\u0066\u0061\u0069\u006c\u0065\u0064\u0020\u0072\u0065a\u0064\u0069\u006e\u0067");};_cff ++;_bc +=_ad ;_bdc -=_ad ;};return _bc ,nil ;};func (_fc *fdfParser )readTextLine ()(string ,error ){var _dcf _c .Buffer ;for {_cec ,_abcf :=_fc ._gee .Peek (1);if _abcf !=nil {_ddb .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0025\u0073",_abcf .Error ());return _dcf .String (),_abcf ;};if (_cec [0]!='\r')&&(_cec [0]!='\n'){_aae ,_ :=_fc ._gee .ReadByte ();_dcf .WriteByte (_aae );}else {break ;};};return _dcf .String (),nil ;};var _bdce =_dd .MustCompile ("\u0025F\u0044F\u002d\u0028\u005c\u0064\u0029\u005c\u002e\u0028\u005c\u0064\u0029");

// Root returns the Root of the FDF document.
func (_cfgc *fdfParser )Root ()(*_bf .PdfObjectDictionary ,error ){if _cfgc ._dba !=nil {if _cgfc ,_bdg :=_cfgc .trace (_cfgc ._dba .Get ("\u0052\u006f\u006f\u0074")).(*_bf .PdfObjectDictionary );_bdg {if _bgfa ,_dee :=_cfgc .trace (_cgfc .Get ("\u0046\u0044\u0046")).(*_bf .PdfObjectDictionary );_dee {return _bgfa ,nil ;};};};var _aaf []int64 ;for _edgc :=range _cfgc ._fd {_aaf =append (_aaf ,_edgc );};_b .Slice (_aaf ,func (_adga ,_dcdcg int )bool {return _aaf [_adga ]< _aaf [_dcdcg ]});for _ ,_dffg :=range _aaf {_dfc :=_cfgc ._fd [_dffg ];if _dcce ,_ggag :=_cfgc .trace (_dfc ).(*_bf .PdfObjectDictionary );_ggag {if _ddbd ,_ffb :=_cfgc .trace (_dcce .Get ("\u0046\u0044\u0046")).(*_bf .PdfObjectDictionary );_ffb {return _ddbd ,nil ;};};};return nil ,_g .New ("\u0046\u0044\u0046\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064");};func (_dda *fdfParser )setFileOffset (_cef int64 ){_dda ._bg .Seek (_cef ,_cg .SeekStart );_dda ._gee =_gg .NewReader (_dda ._bg );};func _dcdg (_ggc _cg .ReadSeeker )(*fdfParser ,error ){_gbga :=&fdfParser {};_gbga ._bg =_ggc ;_gbga ._fd =map[int64 ]_bf .PdfObject {};_bfae ,_ebbd ,_ebf :=_gbga .parseFdfVersion ();if _ebf !=nil {_ddb .Log .Error ("U\u006e\u0061\u0062\u006c\u0065\u0020t\u006f\u0020\u0070\u0061\u0072\u0073\u0065\u0020\u0076e\u0072\u0073\u0069o\u006e:\u0020\u0025\u0076",_ebf );return nil ,_ebf ;};_gbga ._bfa =_bfae ;_gbga ._bb =_ebbd ;_ebf =_gbga .parse ();return _gbga ,_ebf ;};func (_aef *fdfParser )seekToEOFMarker (_ecd int64 )error {_fee :=int64 (0);_bfb :=int64 (1000);for _fee < _ecd {if _ecd <=(_bfb +_fee ){_bfb =_ecd -_fee ;};_ ,_dadd :=_aef ._bg .Seek (-_fee -_bfb ,_cg .SeekEnd );if _dadd !=nil {return _dadd ;};_dcc :=make ([]byte ,_bfb );_aef ._bg .Read (_dcc );_ddb .Log .Trace ("\u004c\u006f\u006f\u006bi\u006e\u0067\u0020\u0066\u006f\u0072\u0020\u0045\u004f\u0046 \u006da\u0072\u006b\u0065\u0072\u003a\u0020\u0022%\u0073\u0022",string (_dcc ));_cfa :=_cb .FindAllStringIndex (string (_dcc ),-1);if _cfa !=nil {_ebb :=_cfa [len (_cfa )-1];_ddb .Log .Trace ("\u0049\u006e\u0064\u003a\u0020\u0025\u0020\u0064",_cfa );_aef ._bg .Seek (-_fee -_bfb +int64 (_ebb [0]),_cg .SeekEnd );return nil ;};_ddb .Log .Debug ("\u0057\u0061\u0072\u006e\u0069\u006eg\u003a\u0020\u0045\u004f\u0046\u0020\u006d\u0061\u0072\u006b\u0065\u0072\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075n\u0064\u0021\u0020\u002d\u0020\u0063\u006f\u006e\u0074\u0069\u006e\u0075\u0065\u0020s\u0065e\u006b\u0069\u006e\u0067");_fee +=_bfb ;};_ddb .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u003a\u0020\u0045\u004f\u0046\u0020\u006d\u0061\u0072\u006be\u0072 \u0077\u0061\u0073\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064\u002e");return _g .New ("\u0045\u004f\u0046\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064");};func (_ddg *fdfParser )getFileOffset ()int64 {_fbd ,_ :=_ddg ._bg .Seek (0,_cg .SeekCurrent );_fbd -=int64 (_ddg ._gee .Buffered ());return _fbd ;};func (_adgb *fdfParser )parseFdfVersion ()(int ,int ,error ){_adgb ._bg .Seek (0,_cg .SeekStart );_cgf :=20;_dbag :=make ([]byte ,_cgf );_adgb ._bg .Read (_dbag );_gaac :=_bdce .FindStringSubmatch (string (_dbag ));if len (_gaac )< 3{_gdf ,_gga ,_cgfe :=_adgb .seekFdfVersionTopDown ();if _cgfe !=nil {_ddb .Log .Debug ("F\u0061\u0069\u006c\u0065\u0064\u0020\u0072\u0065\u0063\u006f\u0076\u0065\u0072\u0079\u0020\u002d\u0020\u0075n\u0061\u0062\u006c\u0065\u0020\u0074\u006f\u0020\u0066\u0069nd\u0020\u0076\u0065r\u0073i\u006f\u006e");return 0,0,_cgfe ;};return _gdf ,_gga ,nil ;};_aebe ,_fgf :=_e .Atoi (_gaac [1]);if _fgf !=nil {return 0,0,_fgf ;};_dbf ,_fgf :=_e .Atoi (_gaac [2]);if _fgf !=nil {return 0,0,_fgf ;};_ddb .Log .Debug ("\u0046\u0064\u0066\u0020\u0076\u0065\u0072\u0073\u0069\u006f\u006e\u0020%\u0064\u002e\u0025\u0064",_aebe ,_dbf );return _aebe ,_dbf ,nil ;};func _cebd (_bdea string )(*fdfParser ,error ){_bgf :=fdfParser {};_fbac :=[]byte (_bdea );_dfa :=_c .NewReader (_fbac );_bgf ._bg =_dfa ;_bgf ._fd =map[int64 ]_bf .PdfObject {};_bab :=_gg .NewReader (_dfa );_bgf ._gee =_bab ;_bgf ._be =int64 (len (_bdea ));return &_bgf ,_bgf .parse ();};func (_afg *fdfParser )skipSpaces ()(int ,error ){_gb :=0;for {_gbg ,_cbg :=_afg ._gee .ReadByte ();if _cbg !=nil {return 0,_cbg ;};if _bf .IsWhiteSpace (_gbg ){_gb ++;}else {_afg ._gee .UnreadByte ();break ;};};return _gb ,nil ;};func (_feb *fdfParser )parseString ()(*_bf .PdfObjectString ,error ){_feb ._gee .ReadByte ();var _dff _c .Buffer ;_eef :=1;for {_bfe ,_bbg :=_feb ._gee .Peek (1);if _bbg !=nil {return _bf .MakeString (_dff .String ()),_bbg ;};if _bfe [0]=='\\'{_feb ._gee .ReadByte ();_dbeg ,_fcc :=_feb ._gee .ReadByte ();if _fcc !=nil {return _bf .MakeString (_dff .String ()),_fcc ;};if _bf .IsOctalDigit (_dbeg ){_fcd ,_edg :=_feb ._gee .Peek (2);if _edg !=nil {return _bf .MakeString (_dff .String ()),_edg ;};var _ddf []byte ;_ddf =append (_ddf ,_dbeg );for _ ,_geg :=range _fcd {if _bf .IsOctalDigit (_geg ){_ddf =append (_ddf ,_geg );}else {break ;};};_feb ._gee .Discard (len (_ddf )-1);_ddb .Log .Trace ("\u004e\u0075\u006d\u0065ri\u0063\u0020\u0073\u0074\u0072\u0069\u006e\u0067\u0020\u0022\u0025\u0073\u0022",_ddf );_bec ,_edg :=_e .ParseUint (string (_ddf ),8,32);if _edg !=nil {return _bf .MakeString (_dff .String ()),_edg ;};_dff .WriteByte (byte (_bec ));continue ;};switch _dbeg {case 'n':_dff .WriteRune ('\n');case 'r':_dff .WriteRune ('\r');case 't':_dff .WriteRune ('\t');case 'b':_dff .WriteRune ('\b');case 'f':_dff .WriteRune ('\f');case '(':_dff .WriteRune ('(');case ')':_dff .WriteRune (')');case '\\':_dff .WriteRune ('\\');};continue ;}else if _bfe [0]=='('{_eef ++;}else if _bfe [0]==')'{_eef --;if _eef ==0{_feb ._gee .ReadByte ();break ;};};_adg ,_ :=_feb ._gee .ReadByte ();_dff .WriteByte (_adg );};return _bf .MakeString (_dff .String ()),nil ;};func (_fa *fdfParser )skipComments ()error {if _ ,_abg :=_fa .skipSpaces ();_abg !=nil {return _abg ;};_cgg :=true ;for {_bcd ,_dag :=_fa ._gee .Peek (1);if _dag !=nil {_ddb .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0025\u0073",_dag .Error ());return _dag ;};if _cgg &&_bcd [0]!='%'{return nil ;};_cgg =false ;if (_bcd [0]!='\r')&&(_bcd [0]!='\n'){_fa ._gee .ReadByte ();}else {break ;};};return _fa .skipComments ();};

// FieldValues implements interface model.FieldValueProvider.
// Returns a map of field names to values (PdfObjects).
func (fdf *Data )FieldValues ()(map[string ]_bf .PdfObject ,error ){_ea ,_dbe :=fdf .FieldDictionaries ();if _dbe !=nil {return nil ,_dbe ;};var _ccg []string ;for _fb :=range _ea {_ccg =append (_ccg ,_fb );};_b .Strings (_ccg );_bdb :=map[string ]_bf .PdfObject {};for _ ,_ce :=range _ccg {_eb :=_ea [_ce ];_cee :=_bf .TraceToDirectObject (_eb .Get ("\u0056"));_bdb [_ce ]=_cee ;};return _bdb ,nil ;};var _gd =_dd .MustCompile ("\u005e\u005b\u005c+-\u002e\u005d\u002a\u0028\u005b\u0030\u002d\u0039\u002e]\u002b)\u0065[\u005c+\u002d\u002e\u005d\u002a\u0028\u005b\u0030\u002d\u0039\u002e\u005d\u002b\u0029");type fdfParser struct{_bfa int ;_bb int ;_fd map[int64 ]_bf .PdfObject ;_bg _cg .ReadSeeker ;_gee *_gg .Reader ;_be int64 ;_dba *_bf .PdfObjectDictionary ;};func (_acb *fdfParser )parseArray ()(*_bf .PdfObjectArray ,error ){_ebea :=_bf .MakeArray ();_acb ._gee .ReadByte ();for {_acb .skipSpaces ();_adb ,_dcd :=_acb ._gee .Peek (1);if _dcd !=nil {return _ebea ,_dcd ;};if _adb [0]==']'{_acb ._gee .ReadByte ();break ;};_ecf ,_dcd :=_acb .parseObject ();if _dcd !=nil {return _ebea ,_dcd ;};_ebea .Append (_ecf );};return _ebea ,nil ;};

// Load loads FDF form data from `r`.
func Load (r _cg .ReadSeeker )(*Data ,error ){_acg ,_de :=_dcdg (r );if _de !=nil {return nil ,_de ;};_f ,_de :=_acg .Root ();if _de !=nil {return nil ,_de ;};_da ,_dg :=_bf .GetArray (_f .Get ("\u0046\u0069\u0065\u006c\u0064\u0073"));if !_dg {return nil ,_g .New ("\u0066\u0069\u0065\u006c\u0064\u0073\u0020\u006d\u0069s\u0073\u0069\u006e\u0067");};return &Data {_db :_da ,_ac :_f },nil ;};func (_gcb *fdfParser )parseName ()(_bf .PdfObjectName ,error ){var _ecg _c .Buffer ;_dagd :=false ;for {_egf ,_ga :=_gcb ._gee .Peek (1);if _ga ==_cg .EOF {break ;};if _ga !=nil {return _bf .PdfObjectName (_ecg .String ()),_ga ;};if !_dagd {if _egf [0]=='/'{_dagd =true ;_gcb ._gee .ReadByte ();}else if _egf [0]=='%'{_gcb .readComment ();_gcb .skipSpaces ();}else {_ddb .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u0020N\u0061\u006d\u0065\u0020\u0073\u0074\u0061\u0072\u0074\u0069\u006e\u0067\u0020w\u0069\u0074\u0068\u0020\u0025\u0073\u0020(\u0025\u0020\u0078\u0029",_egf ,_egf );return _bf .PdfObjectName (_ecg .String ()),_ed .Errorf ("\u0069n\u0076a\u006c\u0069\u0064\u0020\u006ea\u006d\u0065:\u0020\u0028\u0025\u0063\u0029",_egf [0]);};}else {if _bf .IsWhiteSpace (_egf [0]){break ;}else if (_egf [0]=='/')||(_egf [0]=='[')||(_egf [0]=='(')||(_egf [0]==']')||(_egf [0]=='<')||(_egf [0]=='>'){break ;}else if _egf [0]=='#'{_aad ,_aeb :=_gcb ._gee .Peek (3);if _aeb !=nil {return _bf .PdfObjectName (_ecg .String ()),_aeb ;};_gcb ._gee .Discard (3);_ba ,_aeb :=_a .DecodeString (string (_aad [1:3]));if _aeb !=nil {return _bf .PdfObjectName (_ecg .String ()),_aeb ;};_ecg .Write (_ba );}else {_afe ,_ :=_gcb ._gee .ReadByte ();_ecg .WriteByte (_afe );};};};return _bf .PdfObjectName (_ecg .String ()),nil ;};func (_ace *fdfParser )parseNumber ()(_bf .PdfObject ,error ){return _bf .ParseNumber (_ace ._gee )};var _dc =_dd .MustCompile ("^\u005c\u0073\u002a\u0028\\d\u002b)\u005c\u0073\u002b\u0028\u005cd\u002b\u0029\u005c\u0073\u002b\u0052");func (_gefg *fdfParser )trace (_fdcb _bf .PdfObject )_bf .PdfObject {switch _aee :=_fdcb .(type ){case *_bf .PdfObjectReference :_gdcg ,_fbg :=_gefg ._fd [_aee .ObjectNumber ].(*_bf .PdfIndirectObject );if _fbg {return _gdcg .PdfObject ;};_ddb .Log .Debug ("\u0054\u0079\u0070\u0065\u0020\u0065\u0072\u0072\u006f\u0072");return nil ;case *_bf .PdfIndirectObject :return _aee .PdfObject ;};return _fdcb ;};var _af =_dd .MustCompile ("\u005e\u005b\u005c\u002b\u002d\u002e\u005d\u002a\u0028\u005b\u0030\u002d9\u002e\u005d\u002b\u0029");func (_cdg *fdfParser )parseObject ()(_bf .PdfObject ,error ){_ddb .Log .Trace ("\u0052e\u0061d\u0020\u0064\u0069\u0072\u0065c\u0074\u0020o\u0062\u006a\u0065\u0063\u0074");_cdg .skipSpaces ();for {_edac ,_def :=_cdg ._gee .Peek (2);if _def !=nil {return nil ,_def ;};_ddb .Log .Trace ("\u0050e\u0065k\u0020\u0073\u0074\u0072\u0069\u006e\u0067\u003a\u0020\u0025\u0073",string (_edac ));if _edac [0]=='/'{_gdc ,_gba :=_cdg .parseName ();_ddb .Log .Trace ("\u002d\u003e\u004ea\u006d\u0065\u003a\u0020\u0027\u0025\u0073\u0027",_gdc );return &_gdc ,_gba ;}else if _edac [0]=='('{_ddb .Log .Trace ("\u002d>\u0053\u0074\u0072\u0069\u006e\u0067!");return _cdg .parseString ();}else if _edac [0]=='['{_ddb .Log .Trace ("\u002d\u003e\u0041\u0072\u0072\u0061\u0079\u0021");return _cdg .parseArray ();}else if (_edac [0]=='<')&&(_edac [1]=='<'){_ddb .Log .Trace ("\u002d>\u0044\u0069\u0063\u0074\u0021");return _cdg .parseDict ();}else if _edac [0]=='<'{_ddb .Log .Trace ("\u002d\u003e\u0048\u0065\u0078\u0020\u0073\u0074\u0072\u0069\u006e\u0067\u0021");return _cdg .parseHexString ();}else if _edac [0]=='%'{_cdg .readComment ();_cdg .skipSpaces ();}else {_ddb .Log .Trace ("\u002d\u003eN\u0075\u006d\u0062e\u0072\u0020\u006f\u0072\u0020\u0072\u0065\u0066\u003f");_edac ,_ =_cdg ._gee .Peek (15);_abee :=string (_edac );_ddb .Log .Trace ("\u0050\u0065\u0065k\u0020\u0073\u0074\u0072\u003a\u0020\u0025\u0073",_abee );if (len (_abee )> 3)&&(_abee [:4]=="\u006e\u0075\u006c\u006c"){_bba ,_gde :=_cdg .parseNull ();return &_bba ,_gde ;}else if (len (_abee )> 4)&&(_abee [:5]=="\u0066\u0061\u006cs\u0065"){_acc ,_ecfa :=_cdg .parseBool ();return &_acc ,_ecfa ;}else if (len (_abee )> 3)&&(_abee [:4]=="\u0074\u0072\u0075\u0065"){_aadc ,_gdca :=_cdg .parseBool ();return &_aadc ,_gdca ;};_ade :=_dc .FindStringSubmatch (_abee );if len (_ade )> 1{_edac ,_ =_cdg ._gee .ReadBytes ('R');_ddb .Log .Trace ("\u002d\u003e\u0020\u0021\u0052\u0065\u0066\u003a\u0020\u0027\u0025\u0073\u0027",string (_edac [:]));_aac ,_abegf :=_acf (string (_edac ));return &_aac ,_abegf ;};_ggf :=_af .FindStringSubmatch (_abee );if len (_ggf )> 1{_ddb .Log .Trace ("\u002d\u003e\u0020\u004e\u0075\u006d\u0062\u0065\u0072\u0021");return _cdg .parseNumber ();};_ggf =_gd .FindStringSubmatch (_abee );if len (_ggf )> 1{_ddb .Log .Trace ("\u002d\u003e\u0020\u0045xp\u006f\u006e\u0065\u006e\u0074\u0069\u0061\u006c\u0020\u004e\u0075\u006d\u0062\u0065r\u0021");_ddb .Log .Trace ("\u0025\u0020\u0073",_ggf );return _cdg .parseNumber ();};_ddb .Log .Debug ("\u0045R\u0052\u004f\u0052\u0020U\u006e\u006b\u006e\u006f\u0077n\u0020(\u0070e\u0065\u006b\u0020\u0022\u0025\u0073\u0022)",_abee );return nil ,_g .New ("\u006f\u0062\u006a\u0065\u0063t\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020\u0065\u0072\u0072\u006fr\u0020\u002d\u0020\u0075\u006e\u0065\u0078\u0070\u0065\u0063\u0074\u0065\u0064\u0020\u0070\u0061\u0074\u0074\u0065\u0072\u006e");};};};func (_bee *fdfParser )parseDict ()(*_bf .PdfObjectDictionary ,error ){_ddb .Log .Trace ("\u0052\u0065\u0061\u0064\u0069\u006e\u0067\u0020\u0046\u0044\u0046\u0020D\u0069\u0063\u0074\u0021");_gaa :=_bf .MakeDict ();_ecfc ,_ :=_bee ._gee .ReadByte ();if _ecfc !='<'{return nil ,_g .New ("\u0069\u006e\u0076a\u006c\u0069\u0064\u0020\u0064\u0069\u0063\u0074");};_ecfc ,_ =_bee ._gee .ReadByte ();if _ecfc !='<'{return nil ,_g .New ("\u0069\u006e\u0076a\u006c\u0069\u0064\u0020\u0064\u0069\u0063\u0074");};for {_bee .skipSpaces ();_bee .skipComments ();_geb ,_dcdc :=_bee ._gee .Peek (2);if _dcdc !=nil {return nil ,_dcdc ;};_ddb .Log .Trace ("D\u0069c\u0074\u0020\u0070\u0065\u0065\u006b\u003a\u0020%\u0073\u0020\u0028\u0025 x\u0029\u0021",string (_geb ),string (_geb ));if (_geb [0]=='>')&&(_geb [1]=='>'){_ddb .Log .Trace ("\u0045\u004f\u0046\u0020\u0064\u0069\u0063\u0074\u0069o\u006e\u0061\u0072\u0079");_bee ._gee .ReadByte ();_bee ._gee .ReadByte ();break ;};_ddb .Log .Trace ("\u0050a\u0072s\u0065\u0020\u0074\u0068\u0065\u0020\u006e\u0061\u006d\u0065\u0021");_ddae ,_dcdc :=_bee .parseName ();_ddb .Log .Trace ("\u004be\u0079\u003a\u0020\u0025\u0073",_ddae );if _dcdc !=nil {_ddb .Log .Debug ("E\u0052\u0052\u004f\u0052\u0020\u0052e\u0074\u0075\u0072\u006e\u0069\u006e\u0067\u0020\u006ea\u006d\u0065\u0020e\u0072r\u0020\u0025\u0073",_dcdc );return nil ,_dcdc ;};if len (_ddae )> 4&&_ddae [len (_ddae )-4:]=="\u006e\u0075\u006c\u006c"{_fdc :=_ddae [0:len (_ddae )-4];_ddb .Log .Debug ("\u0054\u0061\u006b\u0069n\u0067\u0020\u0063\u0061\u0072\u0065\u0020\u006f\u0066\u0020n\u0075l\u006c\u0020\u0062\u0075\u0067\u0020\u0028%\u0073\u0029",_ddae );_ddb .Log .Debug ("\u004e\u0065\u0077\u0020ke\u0079\u0020\u0022\u0025\u0073\u0022\u0020\u003d\u0020\u006e\u0075\u006c\u006c",_fdc );_bee .skipSpaces ();_dbb ,_ :=_bee ._gee .Peek (1);if _dbb [0]=='/'{_gaa .Set (_fdc ,_bf .MakeNull ());continue ;};};_bee .skipSpaces ();_afc ,_dcdc :=_bee .parseObject ();if _dcdc !=nil {return nil ,_dcdc ;};_gaa .Set (_ddae ,_afc );_ddb .Log .Trace ("\u0064\u0069\u0063\u0074\u005b\u0025\u0073\u005d\u0020\u003d\u0020\u0025\u0073",_ddae ,_afc .String ());};_ddb .Log .Trace ("\u0072\u0065\u0074\u0075rn\u0069\u006e\u0067\u0020\u0046\u0044\u0046\u0020\u0044\u0069\u0063\u0074\u0021");return _gaa ,nil ;};func _acf (_eda string )(_bf .PdfObjectReference ,error ){_dgc :=_bf .PdfObjectReference {};_dab :=_dc .FindStringSubmatch (_eda );if len (_dab )< 3{_ddb .Log .Debug ("\u0045\u0072\u0072or\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020\u0072\u0065\u0066\u0065\u0072\u0065\u006e\u0063\u0065");return _dgc ,_g .New ("\u0075n\u0061\u0062\u006c\u0065 \u0074\u006f\u0020\u0070\u0061r\u0073e\u0020r\u0065\u0066\u0065\u0072\u0065\u006e\u0063e");};_dae ,_fed :=_e .Atoi (_dab [1]);if _fed !=nil {_ddb .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0070a\u0072\u0073\u0069n\u0067\u0020\u006fb\u006a\u0065c\u0074\u0020\u006e\u0075\u006d\u0062e\u0072 '\u0025\u0073\u0027\u0020\u002d\u0020\u0055\u0073\u0069\u006e\u0067\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u006e\u0075\u006d\u0020\u003d\u0020\u0030",_dab [1]);return _dgc ,nil ;};_dgc .ObjectNumber =int64 (_dae );_cge ,_fed :=_e .Atoi (_dab [2]);if _fed !=nil {_ddb .Log .Debug ("\u0045\u0072r\u006f\u0072\u0020\u0070\u0061r\u0073\u0069\u006e\u0067\u0020g\u0065\u006e\u0065\u0072\u0061\u0074\u0069\u006f\u006e\u0020\u006e\u0075\u006d\u0062\u0065\u0072\u0020\u0027\u0025\u0073\u0027\u0020\u002d\u0020\u0055\u0073\u0069\u006e\u0067\u0020\u0067\u0065\u006e\u0020\u003d\u0020\u0030",_dab [2]);return _dgc ,nil ;};_dgc .GenerationNumber =int64 (_cge );return _dgc ,nil ;};func (_egfb *fdfParser )seekFdfVersionTopDown ()(int ,int ,error ){_egfb ._bg .Seek (0,_cg .SeekStart );_egfb ._gee =_gg .NewReader (_egfb ._bg );_badd :=20;_bfbg :=make ([]byte ,_badd );for {_bdgg ,_fcf :=_egfb ._gee .ReadByte ();if _fcf !=nil {if _fcf ==_cg .EOF {break ;}else {return 0,0,_fcf ;};};if _bf .IsDecimalDigit (_bdgg )&&_bfbg [_badd -1]=='.'&&_bf .IsDecimalDigit (_bfbg [_badd -2])&&_bfbg [_badd -3]=='-'&&_bfbg [_badd -4]=='F'&&_bfbg [_badd -5]=='D'&&_bfbg [_badd -6]=='P'{_aebg :=int (_bfbg [_badd -2]-'0');_cefbg :=int (_bdgg -'0');return _aebg ,_cefbg ,nil ;};_bfbg =append (_bfbg [1:_badd ],_bdgg );};return 0,0,_g .New ("\u0076\u0065\u0072\u0073\u0069\u006f\u006e\u0020\u006e\u006f\u0074\u0020f\u006f\u0075\u006e\u0064");};func (_bbe *fdfParser )parseIndirectObject ()(_bf .PdfObject ,error ){_bca :=_bf .PdfIndirectObject {};_ddb .Log .Trace ("\u002dR\u0065a\u0064\u0020\u0069\u006e\u0064i\u0072\u0065c\u0074\u0020\u006f\u0062\u006a");_baa ,_aff :=_bbe ._gee .Peek (20);if _aff !=nil {_ddb .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0046\u0061\u0069\u006c\u0020\u0074\u006f\u0020r\u0065a\u0064\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a");return &_bca ,_aff ;};_ddb .Log .Trace ("\u0028\u0069\u006edi\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0020\u0070\u0065\u0065\u006b\u0020\u0022\u0025\u0073\u0022",string (_baa ));_dbg :=_eca .FindStringSubmatchIndex (string (_baa ));if len (_dbg )< 6{_ddb .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020U\u006e\u0061\u0062l\u0065\u0020\u0074\u006f \u0066\u0069\u006e\u0064\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u0073\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065\u0020\u0028\u0025\u0073\u0029",string (_baa ));return &_bca ,_g .New ("\u0075\u006e\u0061b\u006c\u0065\u0020\u0074\u006f\u0020\u0064\u0065\u0074\u0065\u0063\u0074\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020s\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065");};_bbe ._gee .Discard (_dbg [0]);_ddb .Log .Trace ("O\u0066\u0066\u0073\u0065\u0074\u0073\u0020\u0025\u0020\u0064",_dbg );_eag :=_dbg [1]-_dbg [0];_gf :=make ([]byte ,_eag );_ ,_aff =_bbe .readAtLeast (_gf ,_eag );if _aff !=nil {_ddb .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0075\u006e\u0061\u0062l\u0065\u0020\u0074\u006f\u0020\u0072\u0065\u0061\u0064\u0020-\u0020\u0025\u0073",_aff );return nil ,_aff ;};_ddb .Log .Trace ("\u0074\u0065\u0078t\u006c\u0069\u006e\u0065\u003a\u0020\u0025\u0073",_gf );_aeg :=_eca .FindStringSubmatch (string (_gf ));if len (_aeg )< 3{_ddb .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020U\u006e\u0061\u0062l\u0065\u0020\u0074\u006f \u0066\u0069\u006e\u0064\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u0073\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065\u0020\u0028\u0025\u0073\u0029",string (_gf ));return &_bca ,_g .New ("\u0075\u006e\u0061b\u006c\u0065\u0020\u0074\u006f\u0020\u0064\u0065\u0074\u0065\u0063\u0074\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020s\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065");};_aba ,_ :=_e .Atoi (_aeg [1]);_bgb ,_ :=_e .Atoi (_aeg [2]);_bca .ObjectNumber =int64 (_aba );_bca .GenerationNumber =int64 (_bgb );for {_adc ,_geeb :=_bbe ._gee .Peek (2);if _geeb !=nil {return &_bca ,_geeb ;};_ddb .Log .Trace ("I\u006ed\u002e\u0020\u0070\u0065\u0065\u006b\u003a\u0020%\u0073\u0020\u0028\u0025 x\u0029\u0021",string (_adc ),string (_adc ));if _bf .IsWhiteSpace (_adc [0]){_bbe .skipSpaces ();}else if _adc [0]=='%'{_bbe .skipComments ();}else if (_adc [0]=='<')&&(_adc [1]=='<'){_ddb .Log .Trace ("\u0043\u0061\u006c\u006c\u0020\u0050\u0061\u0072\u0073e\u0044\u0069\u0063\u0074");_bca .PdfObject ,_geeb =_bbe .parseDict ();_ddb .Log .Trace ("\u0045\u004f\u0046\u0020Ca\u006c\u006c\u0020\u0050\u0061\u0072\u0073\u0065\u0044\u0069\u0063\u0074\u003a\u0020%\u0076",_geeb );if _geeb !=nil {return &_bca ,_geeb ;};_ddb .Log .Trace ("\u0050\u0061\u0072\u0073\u0065\u0064\u0020\u0064\u0069\u0063t\u0069\u006f\u006e\u0061\u0072\u0079\u002e.\u002e\u0020\u0066\u0069\u006e\u0069\u0073\u0068\u0065\u0064\u002e");}else if (_adc [0]=='/')||(_adc [0]=='(')||(_adc [0]=='[')||(_adc [0]=='<'){_bca .PdfObject ,_geeb =_bbe .parseObject ();if _geeb !=nil {return &_bca ,_geeb ;};_ddb .Log .Trace ("P\u0061\u0072\u0073\u0065\u0064\u0020o\u0062\u006a\u0065\u0063\u0074\u0020\u002e\u002e\u002e \u0066\u0069\u006ei\u0073h\u0065\u0064\u002e");}else {if _adc [0]=='e'{_dadf ,_bfc :=_bbe .readTextLine ();if _bfc !=nil {return nil ,_bfc ;};if len (_dadf )>=6&&_dadf [0:6]=="\u0065\u006e\u0064\u006f\u0062\u006a"{break ;};}else if _adc [0]=='s'{_adc ,_ =_bbe ._gee .Peek (10);if string (_adc [:6])=="\u0073\u0074\u0072\u0065\u0061\u006d"{_cba :=6;if len (_adc )> 6{if _bf .IsWhiteSpace (_adc [_cba ])&&_adc [_cba ]!='\r'&&_adc [_cba ]!='\n'{_ddb .Log .Debug ("\u004e\u006fn\u002d\u0063\u006f\u006e\u0066\u006f\u0072\u006d\u0061\u006e\u0074\u0020\u0046\u0044\u0046\u0020\u006e\u006f\u0074 \u0065\u006e\u0064\u0069\u006e\u0067 \u0073\u0074\u0072\u0065\u0061\u006d\u0020\u006c\u0069\u006e\u0065\u0020\u0070\u0072o\u0070\u0065r\u006c\u0079\u0020\u0077i\u0074\u0068\u0020\u0045\u004fL\u0020\u006d\u0061\u0072\u006b\u0065\u0072");_cba ++;};if _adc [_cba ]=='\r'{_cba ++;if _adc [_cba ]=='\n'{_cba ++;};}else if _adc [_cba ]=='\n'{_cba ++;};};_bbe ._gee .Discard (_cba );_cgad ,_aed :=_bca .PdfObject .(*_bf .PdfObjectDictionary );if !_aed {return nil ,_g .New ("\u0073\u0074\u0072\u0065\u0061\u006d\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u006di\u0073s\u0069\u006e\u0067\u0020\u0064\u0069\u0063\u0074\u0069\u006f\u006e\u0061\u0072\u0079");};_ddb .Log .Trace ("\u0053\u0074\u0072\u0065\u0061\u006d\u0020\u0064\u0069c\u0074\u0020\u0025\u0073",_cgad );_adf ,_geeg :=_cgad .Get ("\u004c\u0065\u006e\u0067\u0074\u0068").(*_bf .PdfObjectInteger );if !_geeg {return nil ,_g .New ("\u0073\u0074re\u0061\u006d\u0020l\u0065\u006e\u0067\u0074h n\u0065ed\u0073\u0020\u0074\u006f\u0020\u0062\u0065 a\u006e\u0020\u0069\u006e\u0074\u0065\u0067e\u0072");};_fcca :=*_adf ;if _fcca < 0{return nil ,_g .New ("\u0073\u0074\u0072\u0065\u0061\u006d\u0020\u006e\u0065\u0065\u0064\u0073\u0020\u0074\u006f \u0062e\u0020\u006c\u006f\u006e\u0067\u0065\u0072\u0020\u0074\u0068\u0061\u006e\u0020\u0030");};if int64 (_fcca )> _bbe ._be {_ddb .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a\u0020\u0053t\u0072\u0065\u0061\u006d\u0020l\u0065\u006e\u0067\u0074\u0068\u0020\u0063\u0061\u006e\u006e\u006f\u0074\u0020\u0062\u0065\u0020\u006c\u0061\u0072\u0067\u0065\u0072\u0020\u0074\u0068\u0061\u006e\u0020\u0066\u0069\u006c\u0065\u0020\u0073\u0069\u007a\u0065");return nil ,_g .New ("\u0069n\u0076\u0061l\u0069\u0064\u0020\u0073t\u0072\u0065\u0061m\u0020\u006c\u0065\u006e\u0067\u0074\u0068\u002c\u0020la\u0072\u0067\u0065r\u0020\u0074h\u0061\u006e\u0020\u0066\u0069\u006ce\u0020\u0073i\u007a\u0065");};_cbb :=make ([]byte ,_fcca );_ ,_geeb =_bbe .readAtLeast (_cbb ,int (_fcca ));if _geeb !=nil {_ddb .Log .Debug ("E\u0052\u0052\u004f\u0052 s\u0074r\u0065\u0061\u006d\u0020\u0028%\u0064\u0029\u003a\u0020\u0025\u0058",len (_cbb ),_cbb );_ddb .Log .Debug ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0025v",_geeb );return nil ,_geeb ;};_cbag :=_bf .PdfObjectStream {};_cbag .Stream =_cbb ;_cbag .PdfObjectDictionary =_bca .PdfObject .(*_bf .PdfObjectDictionary );_cbag .ObjectNumber =_bca .ObjectNumber ;_cbag .GenerationNumber =_bca .GenerationNumber ;_bbe .skipSpaces ();_bbe ._gee .Discard (9);_bbe .skipSpaces ();return &_cbag ,nil ;};};_bca .PdfObject ,_geeb =_bbe .parseObject ();return &_bca ,_geeb ;};};_ddb .Log .Trace ("\u0052\u0065\u0074\u0075rn\u0069\u006e\u0067\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0021");return &_bca ,nil ;};var _cb =_dd .MustCompile ("\u0025\u0025\u0045O\u0046");func (_bad *fdfParser )parseNull ()(_bf .PdfObjectNull ,error ){_ ,_ff :=_bad ._gee .Discard (4);return _bf .PdfObjectNull {},_ff ;};func (_aca *fdfParser )readComment ()(string ,error ){var _fe _c .Buffer ;_ ,_aa :=_aca .skipSpaces ();if _aa !=nil {return _fe .String (),_aa ;};_gce :=true ;for {_cga ,_df :=_aca ._gee .Peek (1);if _df !=nil {_ddb .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0025\u0073",_df .Error ());return _fe .String (),_df ;};if _gce &&_cga [0]!='%'{return _fe .String (),_g .New ("c\u006f\u006d\u006d\u0065\u006e\u0074 \u0073\u0068\u006f\u0075\u006c\u0064\u0020\u0073\u0074a\u0072\u0074\u0020w\u0069t\u0068\u0020\u0025");};_gce =false ;if (_cga [0]!='\r')&&(_cga [0]!='\n'){_cfd ,_ :=_aca ._gee .ReadByte ();_fe .WriteByte (_cfd );}else {break ;};};return _fe .String (),nil ;};func (_cfg *fdfParser )parseHexString ()(*_bf .PdfObjectString ,error ){_cfg ._gee .ReadByte ();var _ef _c .Buffer ;for {_dbac ,_fg :=_cfg ._gee .Peek (1);if _fg !=nil {return _bf .MakeHexString (""),_fg ;};if _dbac [0]=='>'{_cfg ._gee .ReadByte ();break ;};_edga ,_ :=_cfg ._gee .ReadByte ();if !_bf .IsWhiteSpace (_edga ){_ef .WriteByte (_edga );};};if _ef .Len ()%2==1{_ef .WriteRune ('0');};_abeg ,_gef :=_a .DecodeString (_ef .String ());if _gef !=nil {_ddb .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u0020\u0050\u0061\u0072\u0073\u0069\u006e\u0067\u0020\u0068\u0065\u0078\u0020\u0073\u0074r\u0069\u006e\u0067\u003a\u0020\u0027\u0025\u0073\u0027 \u002d\u0020\u0072\u0065\u0074\u0075\u0072\u006e\u0069\u006e\u0067\u0020\u0061n\u0020\u0065\u006d\u0070\u0074\u0079 \u0073\u0074\u0072i\u006e\u0067",_ef .String ());return _bf .MakeHexString (""),nil ;};return _bf .MakeHexString (string (_abeg )),nil ;};

// FieldDictionaries returns a map of field names to field dictionaries.
func (fdf *Data )FieldDictionaries ()(map[string ]*_bf .PdfObjectDictionary ,error ){_cd :=map[string ]*_bf .PdfObjectDictionary {};for _edd :=0;_edd < fdf ._db .Len ();_edd ++{_gc ,_ab :=_bf .GetDict (fdf ._db .Get (_edd ));if _ab {_abc ,_ :=_bf .GetString (_gc .Get ("\u0054"));if _abc !=nil {_cd [_abc .Str ()]=_gc ;};};};return _cd ,nil ;};func (_aec *fdfParser )parseBool ()(_bf .PdfObjectBool ,error ){_gcec ,_dddc :=_aec ._gee .Peek (4);if _dddc !=nil {return _bf .PdfObjectBool (false ),_dddc ;};if (len (_gcec )>=4)&&(string (_gcec [:4])=="\u0074\u0072\u0075\u0065"){_aec ._gee .Discard (4);return _bf .PdfObjectBool (true ),nil ;};_gcec ,_dddc =_aec ._gee .Peek (5);if _dddc !=nil {return _bf .PdfObjectBool (false ),_dddc ;};if (len (_gcec )>=5)&&(string (_gcec [:5])=="\u0066\u0061\u006cs\u0065"){_aec ._gee .Discard (5);return _bf .PdfObjectBool (false ),nil ;};return _bf .PdfObjectBool (false ),_g .New ("\u0075n\u0065\u0078\u0070\u0065c\u0074\u0065\u0064\u0020\u0062o\u006fl\u0065a\u006e\u0020\u0073\u0074\u0072\u0069\u006eg");};